New changes:
With tests:

commit 1
commit 2